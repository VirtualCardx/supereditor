/**
 * ========================================
 * SuperEditor 应用类型定义
 * ========================================
 *
 * 本文件定义了 SuperEditor 应用的核心类型接口
 * 包含用户模型、上下文变量和应用上下文类型
 * 为整个应用提供类型安全的基础
 */

import { Env } from "../config";

/**
 * ========================================
 * 用户数据模型
 * ========================================
 */

/**
 * 用户信息接口
 * 定义了用户实体的基本属性
 */
export interface User {
  /** 用户唯一标识符 */
  id: string;

  /** 用户邮箱地址 */
  email: string;

  /** 可根据需要添加其他用户属性，如：姓名、头像等 */
  // Add other user properties as needed
}

/**
 * ========================================
 * 上下文变量类型
 * ========================================
 */

/**
 * Hono 应用上下文变量接口
 * 定义了在请求处理过程中可以传递的变量
 */
export interface ContextVariables {
  /** 当前登录用户信息 - 由认证中间件注入 */
  user: User;
}

/**
 * ========================================
 * 应用上下文类型
 * ========================================
 */

/**
 * SuperEditor 应用上下文类型
 * 结合了环境变量绑定和上下文变量，为 Hono 应用提供完整的类型定义
 *
 * @template Bindings - Cloudflare Workers 环境变量绑定
 * @template Variables - 请求上下文变量
 */
export type AppContext = {
  /** Cloudflare Workers 环境变量绑定 */
  Bindings: Env;

  /** 请求处理上下文变量 */
  Variables: ContextVariables;
};